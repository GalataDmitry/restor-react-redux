{"ast":null,"code":"import _classCallCheck from \"D:\\\\re-store-vol1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\re-store-vol1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\re-store-vol1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\re-store-vol1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\re-store-vol1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\re-store-vol1\\\\src\\\\components\\\\book-list\\\\book-list.js\";\n\nimport React, { Component } from 'react';\nimport BookListItem from '../book-list-item';\nimport { connect } from 'react-redux';\nimport Spinner from \"../spinner\";\nimport { withBookstoreService } from '../hoc';\nimport { fetchBooks, bookAddedToCart } from '../../actions';\nimport { compose } from '../../utils';\nimport './book-list.css';\nimport ErrorIndicator from \"../error-indicator\";\n\nvar BookList = function BookList(_ref) {\n  var books = _ref.books,\n      _onAddedToCart = _ref.onAddedToCart;\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"book-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }\n  }, books.map(function (book) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: book.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(BookListItem, {\n      book: book,\n      onAddedToCart: function onAddedToCart() {\n        return _onAddedToCart(book.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 29\n      }\n    }));\n  }));\n};\n\nvar BookListContainer = /*#__PURE__*/function (_Component) {\n  _inherits(BookListContainer, _Component);\n\n  function BookListContainer() {\n    _classCallCheck(this, BookListContainer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(BookListContainer).apply(this, arguments));\n  }\n\n  _createClass(BookListContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // 1. receive data\n      // 2. dispacth action to store\n      this.props.fetchBooks();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          books = _this$props.books,\n          loading = _this$props.loading,\n          error = _this$props.error,\n          onAddedToCart = _this$props.onAddedToCart;\n\n      if (loading) {\n        return /*#__PURE__*/React.createElement(Spinner, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 20\n          }\n        });\n      }\n\n      if (error) {\n        return /*#__PURE__*/React.createElement(ErrorIndicator, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 20\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(BookList, {\n        books: books,\n        onAddedToCart: onAddedToCart,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }\n      });\n    }\n  }]);\n\n  return BookListContainer;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var _ref2$bookList = _ref2.bookList,\n      books = _ref2$bookList.books,\n      loading = _ref2$bookList.loading,\n      error = _ref2$bookList.error;\n  return {\n    books: books,\n    loading: loading,\n    error: error\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref3) {\n  var bookstoreService = _ref3.bookstoreService;\n  return {\n    fetchBooks: fetchBooks(dispatch, bookstoreService),\n    onAddedToCart: function onAddedToCart(id) {\n      return dispatch(bookAddedToCart(id));\n    }\n  };\n};\n\nexport default compose(withBookstoreService(), connect(mapStateToProps, mapDispatchToProps))(BookListContainer);","map":{"version":3,"sources":["D:/re-store-vol1/src/components/book-list/book-list.js"],"names":["React","Component","BookListItem","connect","Spinner","withBookstoreService","fetchBooks","bookAddedToCart","compose","ErrorIndicator","BookList","books","onAddedToCart","map","book","id","BookListContainer","props","loading","error","mapStateToProps","bookList","mapDispatchToProps","dispatch","bookstoreService"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,SAAQC,oBAAR,QAAmC,QAAnC;AACA,SAAQC,UAAR,EAAoBC,eAApB,QAA0C,eAA1C;AACA,SAAQC,OAAR,QAAsB,aAAtB;AAEA,OAAO,iBAAP;AACA,OAAOC,cAAP,MAA2B,oBAA3B;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAA4B;AAAA,MAA1BC,KAA0B,QAA1BA,KAA0B;AAAA,MAAnBC,cAAmB,QAAnBA,aAAmB;AAEzC,sBACI;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQD,KAAK,CAACE,GAAN,CAAU,UAACC,IAAD,EAAU;AAChB,wBACI;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AACI,MAAA,IAAI,EAAED,IADV;AAEI,MAAA,aAAa,EAAE;AAAA,eAAMF,cAAa,CAACE,IAAI,CAACC,EAAN,CAAnB;AAAA,OAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ;AAOH,GARD,CAFR,CADJ;AAeH,CAjBD;;IAmBMC,iB;;;;;;;;;;;wCAEkB;AAChB;AACA;AACA,WAAKC,KAAL,CAAWX,UAAX;AACH;;;6BAEQ;AAAA,wBAC0C,KAAKW,KAD/C;AAAA,UACEN,KADF,eACEA,KADF;AAAA,UACSO,OADT,eACSA,OADT;AAAA,UACkBC,KADlB,eACkBA,KADlB;AAAA,UACyBP,aADzB,eACyBA,aADzB;;AAGL,UAAIM,OAAJ,EAAa;AACT,4BAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;AAED,UAAIC,KAAJ,EAAW;AACP,4BAAO,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;AACD,0BAAO,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAER,KAAjB;AAAwB,QAAA,aAAa,EAAEC,aAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;;;EAnB2BX,S;;AAsBhC,IAAMmB,eAAe,GAAG,SAAlBA,eAAkB,QAAyC;AAAA,6BAAvCC,QAAuC;AAAA,MAA5BV,KAA4B,kBAA5BA,KAA4B;AAAA,MAArBO,OAAqB,kBAArBA,OAAqB;AAAA,MAAZC,KAAY,kBAAZA,KAAY;AAC7D,SAAO;AAACR,IAAAA,KAAK,EAALA,KAAD;AAAQO,IAAAA,OAAO,EAAPA,OAAR;AAAiBC,IAAAA,KAAK,EAALA;AAAjB,GAAP;AACH,CAFD;;AAIA,IAAMG,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,SAAkC;AAAA,MAAtBC,gBAAsB,SAAtBA,gBAAsB;AACzD,SAAO;AACHlB,IAAAA,UAAU,EAAEA,UAAU,CAACiB,QAAD,EAAWC,gBAAX,CADnB;AAEHZ,IAAAA,aAAa,EAAE,uBAACG,EAAD;AAAA,aAAQQ,QAAQ,CAAChB,eAAe,CAACQ,EAAD,CAAhB,CAAhB;AAAA;AAFZ,GAAP;AAIH,CALD;;AAOA,eAAeP,OAAO,CAClBH,oBAAoB,EADF,EAElBF,OAAO,CAACiB,eAAD,EAAkBE,kBAAlB,CAFW,CAAP,CAGbN,iBAHa,CAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport BookListItem from '../book-list-item';\r\nimport {connect} from 'react-redux';\r\nimport Spinner from \"../spinner\";\r\n\r\nimport {withBookstoreService} from '../hoc';\r\nimport {fetchBooks, bookAddedToCart} from '../../actions';\r\nimport {compose} from '../../utils';\r\n\r\nimport './book-list.css';\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nconst BookList = ({books, onAddedToCart}) => {\r\n\r\n    return (\r\n        <ul className=\"book-list\">\r\n            {\r\n                books.map((book) => {\r\n                    return (\r\n                        <li key={book.id}>\r\n                            <BookListItem\r\n                                book={book}\r\n                                onAddedToCart={() => onAddedToCart(book.id)}/>\r\n                        </li>\r\n                    )\r\n                })\r\n            }\r\n        </ul>\r\n    );\r\n}\r\n\r\nclass BookListContainer extends Component {\r\n\r\n    componentDidMount() {\r\n        // 1. receive data\r\n        // 2. dispacth action to store\r\n        this.props.fetchBooks()\r\n    }\r\n\r\n    render() {\r\n        const {books, loading, error, onAddedToCart} = this.props;\r\n\r\n        if (loading) {\r\n            return <Spinner/>\r\n        }\r\n\r\n        if (error) {\r\n            return <ErrorIndicator/>\r\n        }\r\n        return <BookList books={books} onAddedToCart={onAddedToCart}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({bookList: {books, loading, error}}) => {\r\n    return {books, loading, error};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, {bookstoreService}) => {\r\n    return {\r\n        fetchBooks: fetchBooks(dispatch, bookstoreService),\r\n        onAddedToCart: (id) => dispatch(bookAddedToCart(id))\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    withBookstoreService(),\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(BookListContainer);\r\n"]},"metadata":{},"sourceType":"module"}